<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç²¾è‹±è·‘è€…æˆ˜æœ¯åŠ©æ‰‹</title>
    <style>
        :root { --primary: #ef4444; --dark: #1e293b; --light: #f8fafc; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: var(--light); padding: 15px; color: var(--dark); }
        .container { width: 100%; max-width: 550px; margin: 0 auto; background: white; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); overflow: hidden; }
        .header { background: var(--dark); color: white; padding: 20px; text-align: center; }
        .content { padding: 20px; }
        .input-box { background: #f1f5f9; padding: 15px; border-radius: 12px; margin-bottom: 20px; }
        .grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-top: 10px; }
        input, select { width: 100%; padding: 12px; border: 1px solid #cbd5e1; border-radius: 8px; font-size: 1rem; box-sizing: border-box; }
        .main-stat { background: linear-gradient(135deg, #ef4444, #b91c1c); color: white; padding: 20px; border-radius: 15px; text-align: center; margin-bottom: 20px; }
        .main-stat h1 { margin: 5px 0; font-size: 2.5rem; }
        .section-title { font-weight: bold; border-left: 4px solid var(--primary); padding-left: 10px; margin: 20px 0 10px; }
        table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
        th { text-align: left; background: #f8fafc; padding: 10px; }
        td { padding: 10px; border-bottom: 1px solid #f1f5f9; }
        .tips-card { background: #fff7ed; border: 1px solid #ffedd5; padding: 15px; border-radius: 12px; font-size: 0.9rem; line-height: 1.6; }
        .tag { display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 0.75rem; background: rgba(255,255,255,0.2); margin-top: 5px; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h2>ğŸš€ ç²¾è‹±è·‘è€…æˆ˜æœ¯åŠ©æ‰‹</h2>
        <p style="font-size: 0.8rem; opacity: 0.8;">ç§‘å­¦é…é€Ÿ Â· ç²¾å‡†è¡¥ç»™ Â· èµ›é“åˆ†æ</p>
    </div>

    <div class="content">
        <div class="input-box">
            <label>ç›®æ ‡èµ›äº‹è·ç¦»</label>
            <select id="dist">
                <option value="42195">å…¨ç¨‹é©¬æ‹‰æ¾ (42.195km)</option>
                <option value="21097.5">åŠç¨‹é©¬æ‹‰æ¾ (21.0975km)</option>
                <option value="10000">10 å…¬é‡Œ</option>
            </select>
            <label style="display:block; margin-top:15px;">ç›®æ ‡æ—¶é—´</label>
            <div class="grid-3">
                <input type="number" id="h" value="3">
                <input type="number" id="m" value="30">
                <input type="number" id="s" value="00">
            </div>
        </div>

        <div class="main-stat">
            <div>å¹³å‡ç›®æ ‡é…é€Ÿ</div>
            <h1 id="paceDisplay">--'--"</h1>
            <div class="tag" id="levelTag">è®¡ç®—ä¸­...</div>
        </div>

        <div class="section-title">â±ï¸ å…³é”®åˆ†æ®µè¡¨</div>
        <table>
            <thead><tr><th>é‡Œç¨‹</th><th>ç´¯è®¡æ—¶é—´</th><th>é…é€Ÿ</th></tr></thead>
            <tbody id="splits"></tbody>
        </table>

        <div class="section-title">ğŸ¥¤ è¡¥ç»™ç­–ç•¥å»ºè®®</div>
        <div class="tips-card" id="nutrition">
            </div>
    </div>
</div>

<script>
    const el = (id) => document.getElementById(id);
    const inputs = ['dist', 'h', 'm', 's'];

    function getLevel(paceSec, dist) {
        if (dist < 40000) return "æ—¥å¸¸è®­ç»ƒæ¨¡å¼";
        if (paceSec <= 180) return "å¤§ç¥çº§ï¼šå›½å®¶ä¸€çº§è·‘è€…";
        if (paceSec <= 210) return "ç²¾è‹±çº§ï¼šç ´3é€‰æ‰‹";
        if (paceSec <= 270) return "è¿›é˜¶çº§ï¼šå¤§ä¼—ä¸€çº§";
        if (paceSec <= 330) return "è¿åŠ¨è¾¾äººï¼šå¤§ä¼—äºŒçº§";
        return "å¥åº·è·‘è€…ï¼šå®Œèµ›æŒ‘æˆ˜";
    }

    function formatTime(sec) {
        const h = Math.floor(sec / 3600);
        const m = Math.floor((sec % 3600) / 60);
        const s = Math.round(sec % 60);
        return `${h}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
    }

    function update() {
        const d = parseFloat(el('dist').value);
        const totalSec = (parseInt(el('h').value)||0)*3600 + (parseInt(el('m').value)||0)*60 + (parseInt(el('s').value)||0);
        
        const paceSec = totalSec / (d / 1000);
        const pMin = Math.floor(paceSec / 60);
        const pSec = Math.round(paceSec % 60);
        const paceStr = `${pMin}'${pSec.toString().padStart(2, '0')}"`;

        el('paceDisplay').innerText = paceStr;
        el('levelTag').innerText = getLevel(paceSec, d);

        // åˆ†æ®µè¡¨
        let splitsHtml = '';
        const pts = d > 30000 ? [5000, 10000, 20000, 21097.5, 30000, 35000, 40000, 42195] : [2000, 5000, 7000, 10000, 15000, 21097.5];
        pts.forEach(p => {
            if (p <= d) {
                const time = totalSec * (p / d);
                const label = p === 21097.5 ? "åŠé©¬" : p === 42195 ? "ç»ˆç‚¹" : (p/1000)+"K";
                splitsHtml += `<tr><td>${label}</td><td><b>${formatTime(time)}</b></td><td>${paceStr}</td></tr>`;
            }
        });
        el('splits').innerHTML = splitsHtml;

        // è¡¥ç»™å»ºè®®
        let nutrition = `
            <b>è¡¥æ°´ï¼š</b>æ¯ 5km å³ä½¿ä¸æ¸´ä¹Ÿå»ºè®®å– 2-3 å£æ°´ã€‚<br>
            <b>èƒ½é‡ï¼š</b>é¢„è®¡æ¶ˆè€— ${(d/1000*60).toFixed(0)} å¤§å¡ã€‚`;
        if (d > 20000) {
            nutrition
